# 车牌识别系统

基于豆包视觉大模型的车牌识别系统，支持车牌号识别和位置检测功能。

## 📁 项目文件说明

### 核心应用
- **`recognition.py`** - 增强版车牌识别应用
  - 支持图片和视频上传
  - 车牌号识别 + 位置检测
  - 实时可视化显示结果
  - 边界框绘制和车牌号标注

- **`batch_evaluation.py`** - 批量性能评估工具
  - 大规模测试豆包API性能
  - 准确率、响应时间统计
  - 可视化分析图表
  - 错误案例分析

## 🚀 功能特性

### 车牌识别功能
- ✅ **高准确率识别** - 车牌号识别准确率约90%
- ✅ **多格式支持** - 支持JPG、PNG、JPEG等图片格式
- ✅ **视频处理** - 支持视频实时识别
- ✅ **中文支持** - 完整支持中文字体显示
- ✅ **批量评估** - 大规模性能测试和分析

### 可视化功能
- ✅ **实时标注** - 在图片上绘制识别结果
- ✅ **边界框显示** - 标注车牌位置（效果有限）
- ✅ **车牌号显示** - 在车牌上方显示识别结果
- ✅ **统计图表** - 性能分析可视化

## 📊 性能表现

### 优点 ✅
- **识别准确率高** - 车牌号识别准确率约90%
- **响应速度快** - 平均响应时间1-3秒
- **稳定性好** - API调用成功率高
- **中文支持完善** - 完整支持中文车牌识别
- **批量处理能力** - 支持大规模测试

### 缺点 ❌
- **位置检测效果差** - 车牌位置定位不准确
- **边界框偏移** - 检测框与实际车牌位置偏差较大
- **依赖单一模型** - 仅使用豆包API，缺乏备选方案
- **成本较高** - API调用费用相对较高

## 🔧 技术架构

### 核心技术栈
- **前端框架**: Streamlit
- **AI模型**: 豆包视觉大模型 (doubao-1-5-vision-pro-32k-250115)
- **图像处理**: OpenCV, PIL
- **数据分析**: Pandas, Matplotlib, Seaborn
- **API通信**: Requests

### 数据处理流程
1. **图片预处理** - 尺寸检查和调整
2. **API调用** - 发送图片到豆包视觉模型
3. **结果解析** - 提取车牌号和位置信息
4. **可视化渲染** - 绘制边界框和文字标注
5. **性能统计** - 计算准确率和响应时间

## 🎯 优化建议

### 短期优化
1. **提示词优化** - 改进API调用提示词，提高位置检测精度
2. **后处理增强** - 添加车牌位置验证和校正算法
3. **多模型融合** - 结合多个视觉模型提高准确性
4. **缓存机制** - 添加结果缓存减少重复调用

### 长期优化
1. **接入更强的视觉大模型**
   - **GPT-4V** - OpenAI的视觉模型，定位精度更高
   - **Claude 3 Vision** - Anthropic的视觉模型，理解能力更强
   - **Gemini Pro Vision** - Google的视觉模型，多模态能力强
   - **Qwen-VL** - 阿里云的视觉模型，中文理解优秀

2. **模型集成方案**
   ```
   多模型投票机制：
   - 豆包API (主要识别)
   - GPT-4V (位置检测)
   - Claude 3 (结果验证)
   - 最终结果 = 投票决定
   ```

3. **本地模型部署**
   - 使用开源车牌识别模型
   - 减少API依赖和成本
   - 提高响应速度

## 📈 性能对比

| 指标 | 当前系统 | 优化目标 |
|------|----------|----------|
| 车牌号识别准确率 | ~90% | >95% |
| 位置检测准确率 | ~30% | >80% |
| 平均响应时间 | 1-3秒 | <1秒 |
| 成本控制 | 高 | 中等 |

## 🚀 快速开始

### 环境要求
```bash
pip install streamlit requests pillow opencv-python pandas matplotlib seaborn
```

### 运行应用
```bash
# 运行增强版车牌识别
streamlit run recognition.py

# 运行批量评估工具
streamlit run batch_evaluation.py
```

### API配置
在代码中配置豆包API密钥：
```python
ARK_API_KEY = "your_api_key_here"
```

## 📝 使用说明

### 图片识别
1. 上传车辆图片
2. 点击"开始识别"
3. 查看识别结果和可视化标注

### 批量评估
1. 设置测试图片数量（建议500张）
2. 点击"开始性能评估"
3. 查看统计图表和错误分析

## 🔮 未来规划

### 版本2.0计划
- [ ] 集成GPT-4V进行位置检测
- [ ] 实现多模型投票机制
- [ ] 添加本地模型支持
- [ ] 优化用户界面和交互体验
- [ ] 增加更多数据格式支持

### 版本3.0计划
- [ ] 实时视频流处理
- [ ] 移动端应用开发
- [ ] 云端部署和API服务
- [ ] 大规模生产环境支持

## 📞 技术支持

如有问题或建议，请通过以下方式联系：
- 项目Issues: [GitHub Issues]
- 技术讨论: [GitHub Discussions]


---

**数据集下载**: 本项目使用CCPD2020数据集进行测试，由于文件较大，请从以下链接下载：[CCPD2020数据集下载](https://drive.google.com/file/d/1m8w1kFxnCEiqz_-t2vTcgrgqNIv986PR/view?usp=sharing)
